<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<meta charset="utf-8">
<head th:include="include :: header">
<meta name="keywords" content="keyword1,keyword2,keyword3"></meta>
    <meta name="description" content="this is my page"></meta>
    <meta name="content-type" content="text/html; charset=UTF-8"></meta>
</head>
<script type="text/javascript" th:src="@{/js/main.js}"></script> 
<link rel="icon" type="image/x-icon" href="/images/mldn.ico"/>
<link href="/ajax/libs/jquery-ztree/3.5/css/metro/zTreeStyle.css" rel="stylesheet">
<link href="/js/fileinput.min.css" rel="stylesheet">
<body class="white-bg">


	<div class="wrapper wrapper-content animated fadeInRight ibox-content">
		<form enctype="multipart/form-data" class="form-horizontal m" id="form-jeans-edit"  method="post">
			<div class="form-group">
				<label class="col-sm-3 control-label ">商品名称：</label>
				<div class="col-sm-8">
					<input class="form-control" type="text" name="jeansName" id="jeansName" th:value="${jeans?.name}" />
					<input class="form-control" type="hidden" name="jeansId" id="jeansId" th:value="${jeans?.id}"  />
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">商品图片：</label>
				<div class="col-sm-8">
				<img th:src="@{${jeansAction?.cover}}" width="142" height="122" alt="图片" id="preview"/>
				<input class="form-control" type="file" name="file" id="file" multiple="multiple" />
					
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">PC模型：</label>
				<div class="col-sm-8">
				
					<input class="form-control" type="file" name="file" id="filePc" />
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">android模型：</label>
				<div class="col-sm-8">
					<input class="form-control" type="file" name="file" id="fileAndroid" />
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">ios模型：</label>
				<div class="col-sm-8">
					<input class="form-control" type="file" name="file" id="fileIos" />
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">尺寸图片：</label>
				<div class="col-sm-8">
					<input class="form-control" type="file" name="file" id="fileSize" multiple="multiple"  />					
				</div>
			</div>
			
			<div class="form-group">
				<label class="col-sm-3 control-label ">性别：</label>
				<div class="col-sm-8" th:switch="${jeans?.sex}">
		    <p th:case="1">	<label ><input name="sex" type="radio" value="1"  checked="checked" />男 </label> 
            <label><input name="sex" type="radio" value="2"   />女 </label> </p>
            <p th:case="2">	<label ><input name="sex" type="radio" value="1"   />男 </label> 
            <label><input name="sex" type="radio" value="2" checked="checked"  />女 </label> </p>
					
				</div>
			</div>
			
			<div class="form-group">
				<label class="col-sm-3 control-label">编号：</label>
				<div class="col-sm-8">
					<input id="number" name="number" class="form-control" type="text" th:value="${jeans?.number}">
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">ID：</label>
				<div class="col-sm-8">
					<input id="fid" name="fid" class="form-control" type="text" th:value="${jeans?.fId}">
				</div>
			</div>
			
			<div class="form-group">
				<label class="col-sm-3 control-label">价格：</label>
				<div class="col-sm-8">
					<input id="price" name="price" class="form-control" type="text" th:value="${jeans?.price}">
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">库存：</label>
				<div class="col-sm-8">
					<input id="inventory" name="inventory" class="form-control" type="text" th:value="${jeans?.inventory}">
				</div>
			</div>
			
			<div class="form-group">
				<label class="col-sm-3 control-label">类别：</label>
				<div class="col-sm-8">
					<input id="type" name="type" class="form-control" type="text" th:value="${jeans?.type}">
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">限量：</label>
				<div class="col-sm-8">
					<input id="limited" name="limited" class="form-control" type="text" th:value="${jeans?.limited}">
				</div>
			</div>
			
			<div class="form-group">
				<label class="col-sm-3 control-label">尺寸：</label>
				<div class="col-sm-8">									
					<table data-table="extra" class="table table-bordered table-small">
				                        	<thead>
				                        	<!-- style= "display:none" -->
				                        		<tr >
				                                    <td width="25%" class="text-center" >勾选框</td>
				                                    <td width="25%" class="text-center" >尺寸大小</td>
				                                    <td width="25%" class="text-center" >描述</td>
				                                    <td width="25%" class="text-center" > 
				                      <button data-command="add" type="button" class="btn btn-primary btn-xs btn-mini"><i class="fa fa-plus"></i>自定义</button>	
				                      </td>		                                 
				                                </tr>
				                        	</thead>
				                            <tbody>
				                            </tbody>
				                        </table>
				</div>
			</div>
			

			<div class="form-group">
				<label class="col-sm-3 control-label">说明：</label>
				<div class="col-sm-8">
					<input id="remark" name="remark" class="form-control" type="text" th:value="${jeans?.des}">
				</div>
			</div>
			
			<div class="form-group">
				<div class="form-control-static col-sm-offset-9">
					<button type="submit" class="btn btn-primary">提交</button>
					<button onclick="javascript:history.back(-1);" class="btn btn-danger" type="button">返回</button>
					<!-- <input type="button" name="Submit" onclick="javascript:history.back(-1);" value="返回上一页"> -->
				</div>
			</div>
		</form>
	</div>
	<div th:include="include::footer"></div>
	<script src="/ajax/libs/jquery-ztree/3.5/js/jquery.ztree.all-3.5.js"></script>
	 <script src="/ajax/libs/jquery-ztree/3.5/js/ajaxfileupload.js" type="text/javascript"></script>
	<script type="text/javascript" src="/jwk/system/goodnz/edit.js">
	</script>
	
	<script type="text/javascript" th:src="@{/js/fileinput.min.js}"></script> 
	<script type="text/javascript" th:src="@{/js/zh.js}"></script> 
	<script type="text/javascript" th:src="@{/js/fileutil.js}"></script> 
	<script>
		//初始化fileinput
		var oFileInput = new FileInput();
		oFileInput.Init("file");
		oFileInput.Init("fileAndroid");
		oFileInput.Init("filePc");
		oFileInput.Init("fileIos");
		oFileInput.Init("fileSize");
		
	</script>
	
	<script type="text/javascript" >
	 $("#file").change(function () {
	        var $file = $(this);
	        var $img = $("#preview");
	        //$img.style.display="none";
	        $('#preview').hide();
	    })
		
	</script>
	
<script th:inline="javascript">  
var modal = $('#form-jeans-edit');
var extraTable = modal.find('[data-table="extra"]');

var resetExtraTable = function(list) {
	extraTable.find('tbody').empty();
	if (list) {
		$.each(list, function(i, v) {
			var $thisRow = getRowTpl();
			$thisRow.find('input[name="sizeImg"]').attr("checked","true"); ;
			$thisRow.find('input[name="count"]').val(v.size);
			$thisRow.find('input[name="content"]').val(v.des);
			extraTable.find('tbody').append($thisRow);
		});
	} else {
		for (var i = 0; i < 1; i++) {
			var $thisRow = getRowTpl();
			extraTable.find('tbody').append($thisRow);
		}
	}
}


window.onload=function(){
	var jeansSizeList = [[${jeansSizeList}]] 
	//alert("*********"+jeansSizeList)
	resetExtraTable(jeansSizeList);
	
}//用window的onload事件，窗体加载完毕的时候



</script>  
</body>
</html>
